<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-6">

      <div class="card shadow-sm">
        <div class="card-body">
          <h3 class="mb-3">アバター選択</h3>

          <p>使いたいアバターを選んでください。</p>

          <%= form_with url: avatar_path, method: :patch, local: true do %>

            <% @avatar_options.each do |value, label| %>
              <% traits = User::AVATAR_TRAITS[value] %>

              <div class="mb-3">

                <!-- 本物の radio（非表示） -->
                <%= radio_button_tag :avatar_type, value,
                      current_user.avatar_type == value,
                      id: "avatar_#{value}",
                      class: "avatar-radio" %>

                <!-- 見た目用 label -->
                <label for="avatar_<%= value %>" class="avatar-label">
                  <span class="avatar-dot"></span>
                  <strong><%= label %></strong>
                </label>

                <!-- 特性 -->
                <div class="ms-4 mt-1 small">
                  <div>
                    <strong>得意：</strong>
                    <span class="text-success">
                      <%= traits[:good].join(" / ") %>
                    </span>
                  </div>
                  <div>
                    <strong>苦手：</strong>
                    <span class="text-danger">
                      <%= traits[:bad].join(" / ") %>
                    </span>
                  </div>
                </div>

              </div>
            <% end %>

            <!-- ▼ ボタン（左右に分離） -->
            <div class="mt-4 d-flex justify-content-between align-items-end">
              <a href="<%= root_path %>" class="btn btn-secondary">
                戻る
              </a>

              <button type="submit" class="btn btn-primary">
                決定する
              </button>
            </div>

          <% end %>

        </div>
      </div>

    </div>
  </div>
</div>
